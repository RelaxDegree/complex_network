曹真得知羌兵到来，蜀兵退去，就率兵追赶。魏延率伏兵杀出，一刀斩了曹遵。朱赞正追
　　蜀兵，被赵云一枪刺死马下。关兴、张苞从两路杀出，四面围困了曹真、郭淮。二人夺路逃
　　出，只得写表请求救兵。魏主得知曹真损兵折将，羌兵大败而回，不知如何是好。华歆提议
　　魏主御驾亲征，大会诸侯，将士才会用命。太傅钟繇愿用身家性命担保，让魏主重新起用司
　　马懿，只有他才可与诸葛亮抗衡。魏主降旨，恢复司马懿的官职，加封平西大都督，调南阳
　　诸路军马，到长安会师。
　　一天，镇守白帝城的李严派儿子李丰来见孔明，说是孟达降魏后曾受到曹丕的重用，如今
　　被人妒忌、排斥，就想重新归汉，领金城、新城、上庸三处人马直取洛阳，配合丞相取长安
　　。孔明不记前仇，重赏了李丰。这时，奸细来报：“魏主驾幸长安，恢复司马懿的官职，加
　　封平西都督，领本地人马，到长安会师。”孔明吃了一惊，马谡说：“魏主不过是小娃娃，
　　丞相怕什么?”孔明说：“我怎会害怕他呢?只怕司马懿一掌兵权，孟达绝不是对手，事情必
　　败，中原不容易得到了。”连忙写下书信，派人星夜送到新城。孟达收到孔明的书信，不
　　仅不当一回事，反而嘲笑孔明太多疑了，就写下回书，说是即使司马懿得知此事，必须派人
　　到长安奏明魏主才能动手，一来一回至少要一个月，他早做好了防备，怕什么司马懿?孔明
　　接到回书，看后愤怒地扔到地上，说：“孟达必然要死在司马懿手中!司马懿既担任要职
　　，就会通权达变，不会奏明魏主再动手，不出十天，就会到了。”他命令来人火速返回，让
　　孟达严守秘密，否则必败。
　　司马懿接到魏主的圣旨，立即在南阳调兵遣将。金城太守申仪派心腹家人来禀报，孟达要
　　造反，他的心腹李辅与他的外甥邓贤也在告密信上署了名。司马懿说：“这真是皇上的洪福
　　。孔明在祁山杀得魏军人人胆寒，孟达一攻洛阳，两京都会被攻破。我要先擒下他，孔明必
　　然心惊，就会退兵了。”当即传令人马起程，一天要赶两天的路，走慢的立即斩首。走了两
　　天，路遇徐晃。徐晃得知孟达要造反，就要当先锋。又走了两天，军士捕获孟达的使者。搜
　　出孔明的回书。司马懿大惊，说：“孔明竟能事先猜中我的心机，万幸天子有福，被我截下
　　回书!”命令军士连夜行军。
　　孟达联络申仪、申耽反魏，二申就操练人马，反准备配合魏军擒孟达。这天司马懿派参军
　　梁畿传令，让孟达立即带兵听候命令。孟达问：“都督什么时候起程?”梁畿说：“大约已
　　起程，直奔长安去了。”孟达送走梁畿，立即通知二申，明天就起兵直取洛阳。忽然城外尘
　　土冲天，一支人马飞奔而来。孟达登城观看，大吃一惊，忙命拽起吊桥。徐晃收不住马，直
　　冲到濠边，被孟达一箭射中额头，魏将忙救走。孟达射退魏军，正想开城追杀，司马懿已率
　　军把城围困。他长叹道：“果然不出孔明的预料!”徐晃被救回营，伤重身死，时年五十九
　　岁。次日，孟达登城巡视，忽见二申领兵杀来，就开城接应，不想二申反来杀他。他想回城
　　，李辅、邓贤从城中射下箭雨。孟达杀得人困马乏，被申耽一枪刺死。司马懿写表奏明此事
　　，魏主升了二申的官，跟随司马懿征西。司马懿来到长安，见了魏主，呈上孔明的密书。魏
　　主赐给他一对金钺斧，以后遇重大事情，不必奏明，就可便宜行事。司马懿保举张郃为先锋，离开长安去破蜀兵。魏主又派辛毗、孙礼领兵五万，去助曹真。
　　司马懿领二十万人马出了关，对张郃说：“孔明若兵出子午谷，早就
　　取了长安，只是他用兵谨慎，不肯冒险。如今他必兵出斜谷，来取郿城，我已让曹真据守郿城，让辛毗、孙礼守箕谷。秦岭西侧有一条路
　　，地名街亭，附近有座列柳城。这两处是通往汉中的咽喉。我们可直取街亭，离阳平关已不
　　远了。孔明得知此二地有失，必然退兵，我们就可大获全胜。他若不退兵，就会因粮食被
　　截断，全军不出一月都会饿死，必擒诸葛亮。”张郃佩服得五体投地
　　。司马懿却说：“孔明不比孟达，你为先锋，要处处小心，提防中计。”
　　探子报告孔明，说司马懿必取街亭，就问：“谁敢去守街亭?”马谡说：“我去。”孔明
　　说：“街亭虽小，关系重大，万一丢失了，我军就全完了。你虽精通兵法，但街亭无险可守
　　，司马懿不是平常人物，张郃又是名将，怕你不是对手。”马谡说：
　　“我自幼熟读兵书，哪会守不住一个街亭?怕什么司马懿、张郃?假如
　　出了差错，可杀我全家!”马谡就立下军令状，孔明拨给他两万五千精兵，派王平协助他，
　　千叮万嘱，下寨必当要路，使敌军不能偷越。下寨后画上地图，立即送来。孔明深怕二人有
　　失，又派高翔领一万兵驻列柳城，再派魏延领兵到街亭后面驻扎。孔明安排妥当，才派赵云
　　、邓芝各引一军出箕谷为疑兵，他亲率一军，让姜维当先锋，出斜谷直取郿城。
　　马谡来到街亭，看了地形，认为孔明太多心，这种地方魏兵怎么敢来?王平劝他不可大意
　　，应遵照丞相的命令在五路总口下寨。马谡见附近有一座孤山，山上生满树木，就要在山上
　　驻兵。王平苦劝，马谡只是固执己见，坚持在山上驻兵。王平没办法，只好请求分给他一些
　　兵，另下营寨，可互相支援。二人正争执，只见难民成群结队地逃来，说是魏兵快到了。马
　　谡赌气说：“我就给你五千兵，等我破了魏兵，没有你的功劳。”王平就离山十里下寨，画
　　上地图，派人连夜送给孔明。
　　司马懿派次子司马昭去探路，司马昭回来说：“街亭有兵把守。”他不由长叹，说：“我
　　不如孔明呀!”司马昭却说：“街亭虽有蜀兵把守，却屯兵山上，路上没设营寨，很容
　　易攻
　　取。”司马懿于当夜趁月色前去察看敌情，马谡在山上看见，说：“他要想活命，别来围山。”司马懿回寨，问清是马谡守街亭，嘲笑说；“这人徒有虚名，是个庸才!”他就命令张郃去攻打王平，申耽、申仪去围山。蜀兵见魏军大队人马包围上来，
　　吓得个个胆寒。马谡下令冲击，将士无人敢动。他斩了二将，方把军士赶下山，冲杀一阵，
　　魏兵岿然不动，只好回山坚守。王平领兵来支援，却被张郃拦住去路
　　，只好退兵。马谡军兵无水，人心大乱，闹到半夜，蜂拥下山投降。他只好领残兵杀下山望
　　西逃，背后张郃猛追上来。魏延杀出，救下马谡，重新夺回街亭，却
　　又被司马懿父子与张郃三面包围，幸亏王平杀来，救出魏延，回到寨
　　前，已被二申夺了。二人到列柳城投高翔，三人夜间去劫魏寨，却又中了埋伏，好不容易杀
　　出重围，又被郭淮拦住去路，只得改投阳平关。郭淮想进列柳城，已被司马懿先占了。司马
　　懿让他与曹真连夜追击蜀军，又让张郃抄小路袭击正从箕谷撤退的蜀
　　军，亲自引兵去取西城。
　　孔明接到王平的地图，气得拍案大骂马谡坑了大军，正想派杨仪去替回马谡，探子来报街
　　亭、列柳城俱失。孔明跺着脚长叹，大事完了，忙吩咐关兴、张苞如此这般，让张翼先去修
　　理剑阁，以备归路，让姜维、马岱领兵埋伏，再把天水、南安、安定三郡的官民尽撤往汉中，同时派人把姜维的母亲接走。分拨已定，他先领五千兵去西城搬运粮草。探马飞报，说司
　　马懿领十五万大军杀来。孔明身边无将，领的兵已有一半运粮走了，只剩两千五百人。众官员
　　都面如土色，孔明沉着地指挥：把旗帜放倒，大开四门，每门派二十名士兵扮成百姓，洒扫
　　街道，不可乱动。布置好，他身披鹤氅，来到城上，让二小童站在身旁，焚香抚琴。魏军前
　　哨来到城下，不敢前进。司马懿赶来，见孔明笑容可掬，在城上手挥五弦，身边香烟袅袅。
　　城门口有二十来
　　个百姓在洒扫。他心中狐疑，让后军改前军，望北退兵。司马昭认为孔明无兵，故弄玄虚。
　　司马懿却说：“诸葛亮一生谨慎，从不冒险，我们进兵，正中他的计。”孔明见魏兵退尽，
　　鼓掌大笑，传令：“司马懿很快就会回来，让城中百姓都去汉中。”司马懿正从武功山小路
　　退兵，张苞突然杀出，魏军大乱，关兴又杀出。魏兵不知有多少蜀兵，丢盔弃甲而逃。关、
　　张也不追击，收缴了战利品就退了兵。司马懿见蜀兵有埋伏，就退回街亭。曹真得知孔明退
　　兵，急忙带兵追赶，却撞见姜维、马岱，马岱刀劈先锋陈造，吓得魏军抱头鼠窜。
　　赵云接到退兵的命令，对邓芝说：“你打着我的旗号先走，我在后面埋伏；一步步互相保
　　护，万无一失。”郭淮领兵来到箕谷，吩咐先锋苏颙：“赵云英勇无敌，你要多加小心。”苏颙怎把老将看在眼里，自吹定要生擒赵云，领兵追赶蜀军。他见赵云的旗号过来，连忙退兵
　　。赵云却从背后杀来，一枪把他刺死。魏将万政赶来，认识赵云，不敢前进。赵云等到黄昏
　　，才拨马缓缓退去。郭淮赶来，万政说赵云如何英勇，郭淮就命大军追赶。正赶着，忽听一
　　声大喝：“赵子龙在此!”吓得魏军纷纷栽下马来。万政去迎敌，被赵云一箭射中盔缨，跌
　　下山涧。赵云说：“我饶你性命，快去叫郭淮来!”郭淮不敢再赶赵云，与曹真夺回三座空
　　城。司马懿听说蜀兵都回汉中了，就来到西城。没走的百姓告诉他，城中只有两千五百兵，
　　还没一个将领。他又打听到关兴、张苞各领三千兵，不由长叹：“我不如孔明!”他安抚了
　　各处，回到长安，见了魏主，请求派大军趁势攻东西二川。尚书孙资却认为，南郑不是用兵
　　之地，假如起大军伐蜀，只怕东吴乘虚而入。不如分兵养精蓄锐，待吴、蜀互攻时，再进攻
　　他们。司马懿也认为这个办法好，魏主就留郭淮、张郃守长安，回师
　　洛阳。
　　孔明回到汉中，不见赵云、邓芝回来，正要派关、张带兵接应，赵、邓回来了，没有损失
　　一人一马一辆车。孔明慌忙领众将出迎，拉着赵云的手，诚恳地说：“是我用人不当，落得
　　这样下场。各处都损兵折将，为什么只有子龙没有损失一人一马?”邓芝说了赵云退兵的经
　　过，孔明说：“这才是真将军啊!”赏给赵云黄金二十斤，赏赵云部下绢一万匹。赵云谢辞
　　：“三军没立一些功劳，我们当将军的都有罪，反而受赏，是丞相赏罚不明。请把东西存在
　　仓库里，到冬天发给士卒做棉衣。”孔明叹息说：“先帝活着时，常称赞子龙有德行，果然
　　如此。”
　　马谡、王平、魏延、高翔回来，孔明先责备王平，为什么不劝马谡。王平说了马谡如何拒
　　不听劝，他与魏延、高翔如何救马谡，如何兵败。孔明喝退王平，再唤马谡。马谡绑上自己
　　，跪见孔明。孔明怒问：“我千叮万嘱，街亭是我军的根本，你用全家性命领此重任。如今
　　败军折将，失地陷城，都是你的过错造成的。我要不用军法，众将怎么能服气?你别怨我，
　　我会照顾你的家属，按月发给钱粮，你可放心地去吧!”马谡痛哭着说：“我自知死罪难逃
　　，只愿我死后丞相不歧视我儿子，我在九泉下也没有遗憾了。”孔明说：“你放心，我会把
　　你儿子当亲生儿子看待。”刀斧手把马谡推出辕门，恰逢蒋琬从成都来到。高叫：“刀下留
　　人!”忙见孔明求情。孔明说：“当年孙武子所以能制胜天下，就在于他的军法严明。如今
　　天下纷争，若执法不严，怎么能讨贼?”传令立即开刀。孔明见了马谡的头，痛哭不止。蒋
　　琬问：“马谡已正军法，丞相为什么痛哭?”孔明说：“先生在白帝城临终时嘱咐我：‘马
　　谡言过其实，不可重用。’我不是哭马谡，而是恨自己不明，因此痛哭。”孔明把人头号令
　　了，与尸身缝在一起，装殓埋葬，又写下表章，让蒋琬带给刘禅，请自贬丞相。刘禅看了表
　　章，不忍心贬孔明。费祎认为治国要以法为重，丞相打了败仗，请求自贬，是正确的。刘禅
　　就降旨贬孔明为右将军，代理丞相，仍旧总督军马，命费祎到汉中传旨。孔明严格检讨了自
　　己的过失，立誓再造中原。孔明惜军爱民，励兵讲武，制造攻城渡河的器材，聚积粮草，做
　　长远准备。
　　魏主得知孔明的作为，召司马懿商量如何取川。司马懿认为，如今天气炎热，蜀军据守天
　　险，很难攻下，保举杂霸将军郝昭把守陈仓道口，足可抵挡蜀军入侵。魏主下旨调郝昭守陈
　　仓，又接到扬州都督曹休的奏章，说是东吴鄱阳太守周鲂愿降魏，开列了东吴可取的七件事
　　。司马懿看了条陈，愿领一军去助曹休，建成将军贾逵认为不可轻信。司马懿不想错过机
　　会，又怕万一中计，就与贾逵同去助曹休。曹休分派众将各自夺取皖城、阳城、江陵等重镇
　　。谁知周鲂真是诈降，东吴已拜陆逊为辅国大将军、平北都元帅，布下奇兵。周鲂深怕曹休
　　不信，就自割头发。贾逵看出他的奸诈，劝曹休不要相信他，曹休反要斩贾逵，众将求情，
　　才免了死罪，削去兵权。周鲂暗自庆幸，密报陆逊，陆逊就依计布下埋伏。曹休让周鲂当向
　　导，周鲂把魏军引进埋伏圈，脱身走了。曹休虽知中计，并不害怕，调兵遣将迎敌。吴兵从
　　四面八方杀来，曹休损兵折将，大败而逃，徐盛穷追不舍。正危急时，贾逵引兵来救，曹休
　　方才脱险，羞愧地说：“我不听你的忠告，落得大败。”司马懿等得知曹休大败，也都退兵
　　。
　　蜀汉建兴六年九月，曹休大败石亭，气愤成病，回洛阳不久就死了。司马懿回到洛阳，众
　　官问他为什么也退兵，他说：“孔明知曹都督兵败，必攻长安，我不回来，谁能去救?”众
　　官都暗笑他吓破了胆。
　　东吴派使者见了刘禅，大肆渲染如何获胜，请蜀主让孔明立即发兵。刘禅就让使者到汉中
　　见孔明。孔明正要出兵，设宴大会众将，商议如何作战。忽然一阵大风从东北吹来，把院中
　　的松树吹断。孔明说：“此风预兆要损失一员大将。”众将不信，正饮酒时，赵云的儿子赵
　　统、赵广赶来，孔明大惊，扔了杯子，说：“子龙死了!”二子哭拜说：“我们父亲夜间三
　　更病重身亡。”孔明直跺脚，痛哭说：“国家折了栋梁，我失去一条手臂!”孔明让二子
　　到成都报丧。刘禅放声大哭，说：“当年不是子龙，我就死在乱军中了!”追赠赵云为大将
　　军、顺平侯，厚葬于成都锦屏山东，建立庙堂，封赵统为虎贲中郎将，赵广为牙门将。料理
　　了赵云的丧事，朝中又为孔明即将北伐争论不休。刘禅正犹豫不决，杨仪送来了孔明的出师
　　表。孔明在表中先阐明汉、贼不两立，分析了天下大势，认为再不乘机北伐中原，老将都要
　　死完，精兵都成老兵，再也无力北伐了。他立誓为了汉朝的事业鞠躬尽瘁，死而后已。这就
　　是著名的《后出师表》。刘禅看了表章，批准孔明北伐。孔明起大军三十万，让魏延为先
　　锋，直奔陈仓道口。
　　魏主得报，计议如何迎敌。曹真想将功折罪，请求领兵抵敌，又推荐王双为先锋。魏主
　　赐王双锦袍金甲，封为虎威将军、前部大先锋，曹真为大都督。曹真领兵十五万，会合郭淮
　　、张郃，分兵把守隘口。
　　孔明兵至陈仓，见路口筑起一城，让魏延攻打。郝昭坚守不出，魏延久攻不下。孔明动了
　　怒，命部下用云梯攻城，被郝昭用火箭引燃云梯，烧死许多士兵。孔明用冲车冲城，郝昭命
　　把
　　巨石凿眼，用葛绳穿上，把冲车都打折。孔明又命廖化掘地道，又被郝昭挖壕破了。接连二
　　十多天，也没攻下这座土城。这时，探子来报，魏军先锋王双杀来。孔明派裨将谢雄迎敌，
　　龚起接应。二人迎战王双，先后被杀。孔明大惊，派廖化、王平、张嶷三将迎敌，张嶷又被
　　王双的流星锤打伤，幸亏廖化、王平力战，方救下来。孔明见接连损兵折将，王双又在土城
　　外安下营寨，只得另想办法。姜维提议，可派一大将在此下寨固守，再令良将提防街亭方面
　　的进攻，大军去袭祁山，他则如此如此，可捉曹真。孔明依计，命王平、李恢领兵防街亭小
　　路，魏延领兵守陈仓口，马岱为先锋，关兴、张苞前后救应，率兵抄小路出斜谷望祁山进发
　　。
　　曹真急于立功，到洛口分调郭淮、孙礼东西把守，派王双救陈仓，得知王双连斩蜀将，万
　　分高兴，让中护军大将费耀代理前部总督。这天，军士从山谷中捉来奸细，曹真亲自提审。
　　那人跪下说：“小人不是奸细，有机密事来见都督。”曹真让为他松绑，左右暂退。那人说
　　：“小人是姜维的心腹，奉命来送密书。”曹真接过书信，见上面写着他误中孔明奸计，只
　　有暂时投降，如今他已骗得孔明的信任，愿与都督里应外合，共破蜀兵。他在蜀营举火为号
　　，烧蜀兵的粮草，擒住孔明，以赎前罪。曹真高兴非常，重赏了那人，让他回去与姜维约定
　　时间。费耀却认为，孔明、姜维广有谋略，只怕中计，提议由他领兵前往。曹真就给他五万
　　人马，去袭蜀军。费耀领兵进入斜谷，蜀军迎面开来。他冲上去，蜀兵却退去，他刚要追，
　　蜀兵又杀来。再想对阵，蜀兵又退，一连三次，拖到次日午时。魏军怕蜀军突然攻击，一天
　　一夜未敢合眼。刚想做饭，大队蜀军又杀来。孔明坐在四轮车上，说：“快叫曹真出来答话
　　。”费耀说：“曹都督是金枝玉叶，怎能跟反贼见面?”孔明把羽扇一招，蜀兵冲杀过来，
　　费耀急忙退兵。退不到三十里，望见蜀军后方起火，蜀兵退去。费耀以为是里应外合的号火
　　，就领兵杀回。看看快到着火处，关兴、张苞从左右杀出，山上箭如雨下。费耀知道中计，
　　忙领败兵后撤，又被姜维拦住去路。他见四面受敌，人困马乏，只好拔剑自杀。魏军死伤无
　　数，活着的都向蜀军投降。孔明连夜赶到祁山下寨，重赏姜维。姜维说：“可恨没能杀了曹
　　真。”孔明也很惋惜大计小用了。